{{title "CSI Plugin " model.id}}
<section class="section with-headspace">
  <h1 class="title" data-test-title>{{model.plainId}}</h1>

  <div class="boxed-section is-small">
    <div class="boxed-section-body inline-definitions">
      <span class="label">Plugin Details</span>
      <span class="pair" data-test-volume-health>
        <span class="term">Controller Health</span>
        {{format-percentage model.controllersHealthy total=model.controllersExpected}}
        ({{model.controllersHealthy}}/{{model.controllersExpected}})
      </span>
      <span class="pair" data-test-volume-health>
        <span class="term">Node Health</span>
        {{format-percentage model.nodesHealthy total=model.nodesExpected}}
        ({{model.nodesHealthy}}/{{model.nodesExpected}})
      </span>
      <span class="pair" data-test-volume-provider>
        <span class="term">Provider</span>
        {{model.provider}}
      </span>
    </div>
  </div>

  <div class="boxed-section">
    <div class="boxed-section-head">
      Controller Allocations
    </div>
    <div class="boxed-section-body is-full-bleed">
      {{#list-table
        source=model.controllers
        class="with-foot" as |t|}}
        {{#t.head}}
          <th class="is-narrow"></th>
          <td>ID</td>
          <th>Created</th>
          <th>Modified</th>
          <th>Health</th>
          <th>Client</th>
          <th>Job</th>
          <th>Version</th>
          <th>Volumes</th>
          <th>CPU</th>
          <th>Memory</th>
        {{/t.head}}
        {{#t.body as |row|}}
          {{plugin-allocation-row pluginAllocation=row.model}}
        {{/t.body}}
      {{/list-table}}
    </div>
  </div>

  <div class="boxed-section">
    <div class="boxed-section-head">
      Node Allocations
    </div>
    <div class="boxed-section-body is-full-bleed">
      {{#list-table
        source=model.nodes
        class="with-foot" as |t|}}
        {{#t.head}}
          <th class="is-narrow"></th>
          <td>ID</td>
          <th>Created</th>
          <th>Modified</th>
          <th>Health</th>
          <th>Client</th>
          <th>Job</th>
          <th>Version</th>
          <th>Volumes</th>
          <th>CPU</th>
          <th>Memory</th>
        {{/t.head}}
        {{#t.body as |row|}}
          {{plugin-allocation-row pluginAllocation=row.model}}
        {{/t.body}}
      {{/list-table}}
    </div>
  </div>
</section>
